/* Generated by Amaranth Yosys 0.40 (PyPI ver 0.40.0.0.post101, git sha1 a1bb0255d) */

(* top =  1  *)
(* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:375" *)
(* generator = "Amaranth" *)
module i2c(bus_stb, bus_addr, bus_w_en, bus_w_data, sda_in, clk, rst, bus_ack, bus_r_data, sda, sda_en, scl, bus_cyc);
  wire [8:0] \$1 ;
  wire [11:0] \$2 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:133" *)
  wire ack;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\signature.py:10" *)
  output bus_ack;
  wire bus_ack;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\signature.py:10" *)
  wire \bus_ack$33 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\signature.py:9" *)
  input [3:0] bus_addr;
  wire [3:0] bus_addr;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\signature.py:9" *)
  wire [3:0] \bus_addr$34 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\signature.py:7" *)
  input bus_cyc;
  wire bus_cyc;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\signature.py:7" *)
  wire \bus_cyc$35 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\signature.py:13" *)
  output [31:0] bus_r_data;
  wire [31:0] bus_r_data;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\signature.py:13" *)
  wire [31:0] \bus_r_data$36 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\signature.py:8" *)
  input bus_stb;
  wire bus_stb;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\signature.py:8" *)
  wire \bus_stb$37 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\signature.py:12" *)
  input [31:0] bus_w_data;
  wire [31:0] bus_w_data;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\signature.py:12" *)
  wire [31:0] \bus_w_data$38 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\signature.py:11" *)
  input bus_w_en;
  wire bus_w_en;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\signature.py:11" *)
  wire \bus_w_en$39 ;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\hdl\\_ir.py:283" *)
  input clk;
  wire clk;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:292" *)
  wire clk_en;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:140" *)
  wire \clk_en$20 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:124" *)
  wire [9:0] ctl_period;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:30" *)
  wire [31:0] \ctl_period$41 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:293" *)
  wire dat_en;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:141" *)
  wire \dat_en$22 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:38" *)
  wire \dat_en$53 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:294" *)
  wire data;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:142" *)
  wire \data$24 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:122" *)
  wire enable;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:33" *)
  wire \enable$47 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:147" *)
  wire i2c_read_data;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:148" *)
  wire i2c_read_en;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:297" *)
  wire [9:0] period;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:145" *)
  wire [9:0] \period$18 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:43" *)
  wire read_ack;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:299" *)
  wire read_data;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:42" *)
  wire [7:0] \read_data$58 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:132" *)
  wire [7:0] \read_data$59 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:134" *)
  wire read_ready;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:45" *)
  wire \read_ready$65 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:300" *)
  wire read_valid;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:44" *)
  wire \read_valid$62 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:135" *)
  wire \read_valid$63 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:143" *)
  wire ready;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:295" *)
  wire \ready$26 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:32" *)
  wire [31:0] rlen;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:138" *)
  wire [3:0] \rlen$45 ;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\hdl\\_ir.py:283" *)
  input rst;
  wire rst;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:305" *)
  output scl;
  wire scl;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:305" *)
  wire \scl$16 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:302" *)
  output sda;
  wire sda;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:302" *)
  wire \sda$13 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:303" *)
  output sda_en;
  wire sda_en;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:303" *)
  wire \sda_en$14 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:299" *)
  input sda_in;
  wire sda_in;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:304" *)
  wire \sda_in$15 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:127" *)
  wire start;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:37" *)
  wire \start$51 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:296" *)
  wire valid;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:144" *)
  wire \valid$28 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:31" *)
  wire [31:0] wlen;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:137" *)
  wire [3:0] \wlen$43 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:126" *)
  wire [7:0] write_data;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:36" *)
  wire [7:0] \write_data$49 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:128" *)
  wire write_data_en;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:40" *)
  wire write_ready;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:130" *)
  wire \write_ready$57 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:129" *)
  wire write_valid;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:39" *)
  wire \write_valid$55 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:407" *)
  \i2c.controller  controller (
    .bus_ack(bus_ack),
    .bus_addr(bus_addr),
    .bus_cyc(bus_cyc),
    .bus_r_data(bus_r_data),
    .bus_stb(bus_stb),
    .bus_w_data(bus_w_data),
    .bus_w_en(bus_w_en),
    .clk(clk),
    .dat_en(write_data_en),
    .enable(enable),
    .period(\$2 ),
    .\port$149$0 (\$1 ),
    .\port$223$0 (\wlen$43 ),
    .\port$231$0 (\rlen$45 ),
    .read_ready(read_ready),
    .read_valid(\read_valid$62 ),
    .rst(rst),
    .start(start),
    .write_data(write_data),
    .write_valid(write_valid)
  );
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:378" *)
  \i2c.out  out (
    .clk(clk),
    .\clk_en$16 (clk_en),
    .\dat_en$17 (dat_en),
    .\data$19 (data),
    .period(\$2 [9:0]),
    .read_data(sda_in),
    .read_valid(i2c_read_en),
    .ready(ready),
    .rst(rst),
    .scl(scl),
    .sda(sda),
    .sda_en(sda_en),
    .valid(valid)
  );
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:389" *)
  \i2c.send  send (
    .clk(clk),
    .clk_en(clk_en),
    .dat_en(dat_en),
    .data(data),
    .enable(enable),
    .i2c_read_data(sda_in),
    .i2c_read_en(i2c_read_en),
    .period(\$2 [9:0]),
    .\r_data$29 (\$1 ),
    .\r_en$33 (read_ready),
    .read_valid(\read_valid$62 ),
    .ready(ready),
    .rlen(\rlen$45 ),
    .rst(rst),
    .start(start),
    .valid(valid),
    .w_en(write_valid),
    .wlen(\wlen$43 ),
    .write_data(write_data),
    .write_data_en(write_data_en),
    .write_ready(write_ready)
  );
  assign \sda$13  = sda;
  assign \sda_en$14  = sda_en;
  assign \sda_in$15  = sda_in;
  assign \scl$16  = scl;
  assign period = \$2 [9:0];
  assign \period$18  = \$2 [9:0];
  assign \clk_en$20  = clk_en;
  assign \dat_en$22  = dat_en;
  assign \data$24  = data;
  assign \ready$26  = ready;
  assign \valid$28  = valid;
  assign i2c_read_data = sda_in;
  assign read_data = sda_in;
  assign read_valid = i2c_read_en;
  assign \bus_ack$33  = bus_ack;
  assign \bus_addr$34  = bus_addr;
  assign \bus_cyc$35  = bus_cyc;
  assign \bus_r_data$36  = bus_r_data;
  assign \bus_stb$37  = bus_stb;
  assign \bus_w_data$38  = bus_w_data;
  assign \bus_w_en$39  = bus_w_en;
  assign ctl_period = \$2 [9:0];
  assign \ctl_period$41  = { 20'h00000, \$2  };
  assign wlen = { 28'h0000000, \wlen$43  };
  assign rlen = { 28'h0000000, \rlen$45  };
  assign \enable$47  = enable;
  assign \write_data$49  = write_data;
  assign \start$51  = start;
  assign \dat_en$53  = write_data_en;
  assign \write_valid$55  = write_valid;
  assign \write_ready$57  = write_ready;
  assign \read_data$58  = \$1 [8:1];
  assign \read_data$59  = \$1 [8:1];
  assign read_ack = \$1 [0];
  assign ack = \$1 [0];
  assign \read_valid$63  = \read_valid$62 ;
  assign \read_ready$65  = read_ready;
endmodule

(* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:49" *)
(* generator = "Amaranth" *)
module \i2c.controller (bus_stb, bus_addr, bus_w_en, bus_w_data, clk, rst, read_valid, \port$149$0 , \port$223$0 , \port$231$0 , write_valid, bus_ack, write_data, read_ready, bus_r_data, enable, start, period, dat_en, bus_cyc);
  reg \$auto$verilog_backend.cc:2352:dump_module$1  = 0;
  wire \$1 ;
  wire \$2 ;
  wire \$3 ;
  wire \$4 ;
  reg \$5 ;
  reg \$6 ;
  reg [11:0] \$7 ;
  reg \$8 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\signature.py:10" *)
  output bus_ack;
  reg bus_ack;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\signature.py:9" *)
  input [3:0] bus_addr;
  wire [3:0] bus_addr;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\signature.py:7" *)
  input bus_cyc;
  wire bus_cyc;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\signature.py:13" *)
  output [31:0] bus_r_data;
  reg [31:0] bus_r_data;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\signature.py:8" *)
  input bus_stb;
  wire bus_stb;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\signature.py:12" *)
  input [31:0] bus_w_data;
  wire [31:0] bus_w_data;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\signature.py:11" *)
  input bus_w_en;
  wire bus_w_en;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\hdl\\_ir.py:283" *)
  input clk;
  wire clk;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:30" *)
  wire [31:0] ctl_period;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:38" *)
  output dat_en;
  reg dat_en = 1'h0;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:33" *)
  output enable;
  reg enable = 1'h0;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:51" *)
  output [11:0] period;
  reg [11:0] period = 12'h064;
  input [8:0] \port$149$0 ;
  wire [8:0] \port$149$0 ;
  input [3:0] \port$223$0 ;
  wire [3:0] \port$223$0 ;
  input [3:0] \port$231$0 ;
  wire [3:0] \port$231$0 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:43" *)
  wire read_ack;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:42" *)
  wire [7:0] read_data;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:45" *)
  output read_ready;
  reg read_ready;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:44" *)
  input read_valid;
  wire read_valid;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:32" *)
  wire [31:0] rlen;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\hdl\\_ir.py:283" *)
  input rst;
  wire rst;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:37" *)
  output start;
  reg start = 1'h0;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:31" *)
  wire [31:0] wlen;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:36" *)
  output [7:0] write_data;
  reg [7:0] write_data;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:39" *)
  output write_valid;
  reg write_valid;
  assign \$2  = bus_addr == (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:58" *) 1'h1;
  assign \$3  = bus_addr == (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:84" *) 3'h5;
  assign \$4  = bus_cyc & (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:55" *) bus_stb;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:33" *)
  always @(posedge clk)
    enable <= \$5 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:37" *)
  always @(posedge clk)
    start <= \$6 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:51" *)
  always @(posedge clk)
    period <= \$7 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:38" *)
  always @(posedge clk)
    dat_en <= \$8 ;
  assign \$1  = bus_cyc & (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:55" *) bus_stb;
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$1 ) begin end
    write_valid = 1'h0;
    if (\$1 ) begin
      if (bus_w_en) begin
        if (\$2 ) begin
          write_valid = 1'h1;
        end
      end
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$1 ) begin end
    bus_ack = 1'h0;
    if (\$1 ) begin
      (* full_case = 32'd1 *)
      if (bus_w_en) begin
        (* full_case = 32'd1 *)
        if (\$2 ) begin
          bus_ack = 1'h1;
        end else begin
          bus_ack = 1'h1;
        end
      end else begin
        (* full_case = 32'd1 *)
        if (\$3 ) begin
          bus_ack = read_valid;
        end else begin
          bus_ack = 1'h1;
        end
      end
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$1 ) begin end
    write_data = 8'h00;
    if (\$1 ) begin
      if (bus_w_en) begin
        casez (bus_addr)
          4'h0:
              /* empty */;
          4'h1:
              write_data = bus_w_data[7:0];
        endcase
      end
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$1 ) begin end
    read_ready = 1'h0;
    if (\$1 ) begin
      (* full_case = 32'd1 *)
      if (bus_w_en) begin
      end else begin
        if (\$3 ) begin
          read_ready = 1'h1;
        end
      end
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$1 ) begin end
    bus_r_data = 32'd0;
    casez (bus_addr)
      4'h0:
          bus_r_data = { 31'h00000000, enable };
      4'h1:
          /* empty */;
      4'h2:
          bus_r_data = { 31'h00000000, start };
      4'h4:
          bus_r_data = { 28'h0000000, \port$223$0  };
      4'h5:
          bus_r_data = { 24'h000000, \port$149$0 [8:1] };
      4'h7:
          bus_r_data = { 31'h00000000, \port$149$0 [0] };
      4'h6:
          bus_r_data = { 28'h0000000, \port$231$0  };
      4'h3:
          bus_r_data = { 31'h00000000, dat_en };
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$1 ) begin end
    \$5  = enable;
    if (\$4 ) begin
      if (bus_w_en) begin
        casez (bus_addr)
          4'h0:
              \$5  = bus_w_data[0];
        endcase
      end
    end
    if (rst) begin
      \$5  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$1 ) begin end
    \$6  = start;
    if (\$4 ) begin
      if (bus_w_en) begin
        casez (bus_addr)
          4'h0:
              /* empty */;
          4'h1:
              \$6  = 1'h0;
          4'h2:
              \$6  = bus_w_data[0];
        endcase
      end
    end
    if (rst) begin
      \$6  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$1 ) begin end
    \$7  = period;
    if (\$4 ) begin
      if (bus_w_en) begin
        casez (bus_addr)
          4'h0:
              /* empty */;
          4'h1:
              /* empty */;
          4'h2:
              /* empty */;
          4'h8:
              \$7  = bus_w_data[11:0];
        endcase
      end
    end
    if (rst) begin
      \$7  = 12'h064;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$1 ) begin end
    \$8  = dat_en;
    if (\$4 ) begin
      if (bus_w_en) begin
        casez (bus_addr)
          4'h0:
              /* empty */;
          4'h1:
              /* empty */;
          4'h2:
              /* empty */;
          4'h8:
              /* empty */;
          4'h3:
              \$8  = bus_w_data[0];
        endcase
      end
    end
    if (rst) begin
      \$8  = 1'h0;
    end
  end
  assign ctl_period = { 20'h00000, period };
  assign wlen = { 28'h0000000, \port$223$0  };
  assign read_data = \port$149$0 [8:1];
  assign read_ack = \port$149$0 [0];
  assign rlen = { 28'h0000000, \port$231$0  };
endmodule

(* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:309" *)
(* generator = "Amaranth" *)
module \i2c.out (clk, rst, read_valid, scl, sda_en, sda, ready, \dat_en$17 , \clk_en$16 , \data$19 , valid, period, read_data);
  reg \$auto$verilog_backend.cc:2352:dump_module$2  = 0;
  wire \$1 ;
  reg \$10 ;
  reg [9:0] \$11 ;
  reg [9:0] \$12 ;
  reg \$13 ;
  reg \$14 ;
  wire [10:0] \$2 ;
  wire \$3 ;
  wire \$4 ;
  wire \$5 ;
  wire [9:0] \$6 ;
  wire [10:0] \$7 ;
  wire \$8 ;
  reg \$9 ;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\hdl\\_ir.py:283" *)
  input clk;
  wire clk;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:314" *)
  reg clk_en = 1'h0;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:292" *)
  input \clk_en$16 ;
  wire \clk_en$16 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:311" *)
  reg [9:0] counter = 10'h000;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:315" *)
  reg dat_en = 1'h0;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:293" *)
  input \dat_en$17 ;
  wire \dat_en$17 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:328" *)
  reg data = 1'h0;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:294" *)
  input \data$19 ;
  wire \data$19 ;
  (* src = "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64_qbz5n2kfra8p0\\Lib\\contextlib.py:144" *)
  reg fsm_state = 1'h0;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:312" *)
  reg [9:0] half_period = 10'h000;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:297" *)
  input [9:0] period;
  wire [9:0] period;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:304" *)
  input read_data;
  wire read_data;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:300" *)
  output read_valid;
  wire read_valid;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:295" *)
  output ready;
  reg ready;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\hdl\\_ir.py:283" *)
  input rst;
  wire rst;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:305" *)
  output scl;
  reg scl;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:302" *)
  output sda;
  reg sda;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:303" *)
  output sda_en;
  reg sda_en;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:304" *)
  wire sda_in;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:296" *)
  input valid;
  wire valid;
  assign \$1  = counter < (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:319" *) half_period;
  assign \$2  = half_period - (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:325" *) 2'h2;
  assign read_valid = counter == (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:325" *) \$2 ;
  assign \$3  = ! (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:332" *) data;
  assign \$4  = ! (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\hdl\\_dsl.py:486" *) fsm_state;
  assign \$7  = counter - (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:355" *) 1'h1;
  assign \$8  = counter == (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:356" *) 1'h1;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:314" *)
  always @(posedge clk)
    clk_en <= \$9 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:315" *)
  always @(posedge clk)
    dat_en <= \$10 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:311" *)
  always @(posedge clk)
    counter <= \$11 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:312" *)
  always @(posedge clk)
    half_period <= \$12 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:328" *)
  always @(posedge clk)
    data <= \$13 ;
  (* src = "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64_qbz5n2kfra8p0\\Lib\\contextlib.py:144" *)
  always @(posedge clk)
    fsm_state <= \$14 ;
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$2 ) begin end
    (* full_case = 32'd1 *)
    if (clk_en) begin
      scl = \$1 ;
    end else begin
      scl = 1'h1;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$2 ) begin end
    (* full_case = 32'd1 *)
    if (dat_en) begin
      sda_en = \$3 ;
    end else begin
      sda_en = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$2 ) begin end
    (* full_case = 32'd1 *)
    if (dat_en) begin
      sda = data;
    end else begin
      sda = 1'h1;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$2 ) begin end
    ready = 1'h0;
    casez (fsm_state)
      1'h0:
          ready = 1'h1;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$2 ) begin end
    \$9  = clk_en;
    casez (fsm_state)
      1'h0:
          (* full_case = 32'd1 *)
          if (valid) begin
            \$9  = \clk_en$16 ;
          end else begin
            \$9  = 1'h0;
          end
    endcase
    if (rst) begin
      \$9  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$2 ) begin end
    \$10  = dat_en;
    casez (fsm_state)
      1'h0:
          (* full_case = 32'd1 *)
          if (valid) begin
            \$10  = \dat_en$17 ;
          end else begin
            \$10  = 1'h0;
          end
    endcase
    if (rst) begin
      \$10  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$2 ) begin end
    \$11  = counter;
    (* full_case = 32'd1 *)
    casez (fsm_state)
      1'h0:
          if (valid) begin
            \$11  = period;
          end
      1'h1:
          \$11  = \$7 [9:0];
    endcase
    if (rst) begin
      \$11  = 10'h000;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$2 ) begin end
    \$12  = half_period;
    casez (fsm_state)
      1'h0:
          if (valid) begin
            \$12  = \$6 ;
          end
    endcase
    if (rst) begin
      \$12  = 10'h000;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$2 ) begin end
    \$13  = data;
    casez (fsm_state)
      1'h0:
          if (valid) begin
            \$13  = \data$19 ;
          end
    endcase
    if (rst) begin
      \$13  = 1'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$2 ) begin end
    \$14  = fsm_state;
    (* full_case = 32'd1 *)
    casez (fsm_state)
      1'h0:
          if (valid) begin
            \$14  = 1'h1;
          end
      1'h1:
          if (\$8 ) begin
            \$14  = 1'h0;
          end
    endcase
    if (rst) begin
      \$14  = 1'h0;
    end
  end
  assign sda_in = read_data;
  assign \$5  = fsm_state;
  assign \$6  = { 1'h0, period[9:1] };
endmodule

(* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:152" *)
(* generator = "Amaranth" *)
module \i2c.send (clk, rst, i2c_read_en, write_ready, read_valid, \r_data$29 , ready, dat_en, clk_en, data, valid, wlen, rlen, w_en, write_data, \r_en$33 , enable, start, period, write_data_en, i2c_read_data
);
  reg \$auto$verilog_backend.cc:2352:dump_module$3  = 0;
  wire \$1 ;
  wire \$10 ;
  wire \$11 ;
  wire \$12 ;
  wire \$13 ;
  wire \$14 ;
  wire [3:0] \$15 ;
  wire \$16 ;
  wire \$17 ;
  wire \$18 ;
  wire \$19 ;
  wire \$2 ;
  wire \$20 ;
  wire [4:0] \$21 ;
  reg [3:0] \$22 ;
  reg [2:0] \$23 ;
  reg [2:0] \$24 ;
  reg [8:0] \$25 ;
  wire \$3 ;
  wire \$4 ;
  wire \$5 ;
  wire \$6 ;
  wire \$7 ;
  wire \$8 ;
  wire \$9 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:133" *)
  wire ack;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\hdl\\_ir.py:283" *)
  input clk;
  wire clk;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:140" *)
  output clk_en;
  reg clk_en;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:124" *)
  wire [9:0] ctl_period;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:141" *)
  output dat_en;
  reg dat_en;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:142" *)
  output data;
  reg data;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:122" *)
  input enable;
  wire enable;
  (* src = "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64_qbz5n2kfra8p0\\Lib\\contextlib.py:144" *)
  reg [2:0] fsm_state = 3'h0;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:147" *)
  input i2c_read_data;
  wire i2c_read_data;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:148" *)
  input i2c_read_en;
  wire i2c_read_en;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:141" *)
  wire [4:0] level;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:141" *)
  wire [4:0] \level$23 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:124" *)
  input [9:0] period;
  wire [9:0] period;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:92" *)
  wire [9:0] r_data;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:92" *)
  output [8:0] \r_data$29 ;
  wire [8:0] \r_data$29 ;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:94" *)
  reg r_en;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:134" *)
  input \r_en$33 ;
  wire \r_en$33 ;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:93" *)
  wire r_rdy;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:93" *)
  wire \r_rdy$37 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:182" *)
  reg [3:0] read_counter = 4'h8;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:132" *)
  wire [7:0] read_data;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:134" *)
  wire read_ready;
  (* init = 9'h000 *)
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:260" *)
  wire [8:0] read_register;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:93" *)
  output read_valid;
  wire read_valid;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:143" *)
  input ready;
  wire ready;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:138" *)
  output [3:0] rlen;
  wire [3:0] rlen;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\hdl\\_ir.py:283" *)
  input rst;
  wire rst;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:127" *)
  input start;
  wire start;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:175" *)
  wire \start$10 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:144" *)
  output valid;
  reg valid;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:87" *)
  wire [9:0] w_data;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:87" *)
  reg [8:0] \w_data$24  = 9'h000;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:129" *)
  input w_en;
  wire w_en;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:89" *)
  reg \w_en$27 ;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:88" *)
  wire w_rdy;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:137" *)
  output [3:0] wlen;
  wire [3:0] wlen;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:176" *)
  reg [2:0] write_counter = 3'h0;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:126" *)
  input [7:0] write_data;
  wire [7:0] write_data;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:128" *)
  input write_data_en;
  wire write_data_en;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:88" *)
  output write_ready;
  wire write_ready;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:129" *)
  wire write_valid;
  assign \$1  = r_data >> write_counter;
  assign \$2  = write_counter == (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:243" *) 1'h1;
  assign \$3  = \$8  | (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:264" *) \$10 ;
  assign \$4  = i2c_read_en & (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:264" *) \$3 ;
  assign \$5  = ! (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:267" *) read_counter;
  assign \$6  = ! (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\hdl\\_dsl.py:486" *) fsm_state;
  assign \$7  = fsm_state == (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\hdl\\_dsl.py:486" *) 1'h1;
  assign \$8  = fsm_state == (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\hdl\\_dsl.py:486" *) 2'h2;
  assign \$9  = fsm_state == (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\hdl\\_dsl.py:486" *) 2'h3;
  assign \$10  = fsm_state == (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\hdl\\_dsl.py:486" *) 3'h4;
  assign \$11  = fsm_state == (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\hdl\\_dsl.py:486" *) 3'h5;
  assign \$12  = fsm_state == (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\hdl\\_dsl.py:486" *) 3'h6;
  assign \$13  = \r_rdy$37  & (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:187" *) enable;
  assign \$14  = ! (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:218" *) write_counter;
  assign \$15  = write_counter - (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:224" *) 1'h1;
  assign \$16  = level > (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:234" *) 1'h1;
  assign \$17  = write_counter == (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:243" *) 1'h1;
  assign \$18  = \$8  | (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:264" *) \$10 ;
  assign \$19  = i2c_read_en & (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:264" *) \$18 ;
  assign \$20  = ! (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:267" *) read_counter;
  assign \$21  = read_counter - (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:272" *) 1'h1;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:182" *)
  always @(posedge clk)
    read_counter <= \$22 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:176" *)
  always @(posedge clk)
    write_counter <= \$23 ;
  (* src = "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64_qbz5n2kfra8p0\\Lib\\contextlib.py:144" *)
  always @(posedge clk)
    fsm_state <= \$24 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:260" *)
  always @(posedge clk)
    \w_data$24  <= \$25 ;
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:255" *)
  \i2c.send.rbuffer  rbuffer (
    .clk(clk),
    .level(\level$23 ),
    .r_data(\r_data$29 ),
    .r_en(\r_en$33 ),
    .r_rdy(read_valid),
    .rst(rst),
    .w_en(\w_en$27 ),
    .w_port_data(\w_data$24 )
  );
  (* src = "C:\\Users\\magen\\Documents\\Programs\\audio_fpga\\sapf\\serial\\i2c.py:157" *)
  \i2c.send.wbuffer  wbuffer (
    .clk(clk),
    .level(level),
    .r_data(r_data),
    .r_en(r_en),
    .r_rdy(\r_rdy$37 ),
    .rst(rst),
    .w_en(w_en),
    .w_port_data(w_data),
    .w_rdy(write_ready)
  );
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    dat_en = 1'h0;
    casez (fsm_state)
      3'h0:
          /* empty */;
      3'h1:
          dat_en = 1'h1;
      3'h3:
          dat_en = 1'h1;
      3'h2:
          dat_en = r_data[8];
      3'h4:
          dat_en = 1'h0;
      3'h5:
          /* empty */;
      3'h6:
          dat_en = 1'h1;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    clk_en = 1'h0;
    casez (fsm_state)
      3'h0:
          /* empty */;
      3'h1:
          clk_en = 1'h0;
      3'h3:
          clk_en = 1'h0;
      3'h2:
          clk_en = 1'h1;
      3'h4:
          clk_en = 1'h1;
      3'h5:
          /* empty */;
      3'h6:
          clk_en = 1'h0;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    data = 1'h0;
    casez (fsm_state)
      3'h0:
          /* empty */;
      3'h1:
          data = 1'h1;
      3'h3:
          data = 1'h0;
      3'h2:
          data = \$1 ;
      3'h4:
          /* empty */;
      3'h5:
          /* empty */;
      3'h6:
          (* full_case = 32'd1 *)
          if (\$2 ) begin
            data = 1'h0;
          end else begin
            data = 1'h1;
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    valid = 1'h0;
    casez (fsm_state)
      3'h0:
          /* empty */;
      3'h1:
          valid = 1'h1;
      3'h3:
          valid = 1'h1;
      3'h2:
          valid = 1'h1;
      3'h4:
          valid = 1'h1;
      3'h5:
          /* empty */;
      3'h6:
          valid = 1'h1;
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    r_en = 1'h0;
    casez (fsm_state)
      3'h0:
          /* empty */;
      3'h1:
          /* empty */;
      3'h3:
          /* empty */;
      3'h2:
          /* empty */;
      3'h4:
          /* empty */;
      3'h5:
          if (i2c_read_en) begin
            r_en = 1'h1;
          end
    endcase
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \w_en$27  = 1'h0;
    if (\$4 ) begin
      if (\$5 ) begin
        \w_en$27  = 1'h1;
      end
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$22  = read_counter;
    casez (fsm_state)
      3'h0:
          if (\$13 ) begin
            \$22  = 4'h8;
          end
    endcase
    if (\$19 ) begin
      (* full_case = 32'd1 *)
      if (\$20 ) begin
        \$22  = 4'h8;
      end else begin
        \$22  = \$21 [3:0];
      end
    end
    if (rst) begin
      \$22  = 4'h8;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$23  = write_counter;
    casez (fsm_state)
      3'h0:
          if (\$13 ) begin
            \$23  = 3'h7;
          end
      3'h1:
          /* empty */;
      3'h3:
          if (ready) begin
            \$23  = 3'h7;
          end
      3'h2:
          if (ready) begin
            (* full_case = 32'd1 *)
            if (\$14 ) begin
              \$23  = 3'h7;
            end else begin
              \$23  = \$15 [2:0];
            end
          end
      3'h4:
          /* empty */;
      3'h5:
          if (i2c_read_en) begin
            (* full_case = 32'd1 *)
            if (\$16 ) begin
            end else begin
              \$23  = 3'h1;
            end
          end
      3'h6:
          (* full_case = 32'd1 *)
          if (\$17 ) begin
          end else begin
            if (ready) begin
              \$23  = 3'h0;
            end
          end
    endcase
    if (rst) begin
      \$23  = 3'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$24  = fsm_state;
    casez (fsm_state)
      3'h0:
          if (\$13 ) begin
            (* full_case = 32'd1 *)
            if (r_data[9]) begin
              \$24  = 3'h1;
            end else begin
              \$24  = 3'h2;
            end
          end
      3'h1:
          if (ready) begin
            \$24  = 3'h3;
          end
      3'h3:
          if (ready) begin
            \$24  = 3'h2;
          end
      3'h2:
          if (ready) begin
            if (\$14 ) begin
              \$24  = 3'h4;
            end
          end
      3'h4:
          if (ready) begin
            \$24  = 3'h5;
          end
      3'h5:
          if (i2c_read_en) begin
            (* full_case = 32'd1 *)
            if (\$16 ) begin
              \$24  = 3'h0;
            end else begin
              \$24  = 3'h6;
            end
          end
      3'h6:
          if (\$17 ) begin
            if (ready) begin
              \$24  = 3'h0;
            end
          end
    endcase
    if (rst) begin
      \$24  = 3'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$3 ) begin end
    \$25  = \w_data$24 ;
    if (\$19 ) begin
      casez (read_counter)
        4'h0:
            \$25 [0] = i2c_read_data;
        4'h1:
            \$25 [1] = i2c_read_data;
        4'h2:
            \$25 [2] = i2c_read_data;
        4'h3:
            \$25 [3] = i2c_read_data;
        4'h4:
            \$25 [4] = i2c_read_data;
        4'h5:
            \$25 [5] = i2c_read_data;
        4'h6:
            \$25 [6] = i2c_read_data;
        4'h7:
            \$25 [7] = i2c_read_data;
        4'h8:
            \$25 [8] = i2c_read_data;
      endcase
      if (\$20 ) begin
        \$25  = 9'h000;
      end
    end
    if (rst) begin
      \$25  = 9'h000;
    end
  end
  assign write_valid = w_en;
  assign w_rdy = write_ready;
  assign \start$10  = r_data[9];
  assign ctl_period = period;
  assign read_register = \w_data$24 ;
  assign ack = \r_data$29 [0];
  assign read_data = \r_data$29 [8:1];
  assign r_rdy = read_valid;
  assign read_ready = \r_en$33 ;
  assign wlen = level[3:0];
  assign rlen = \level$23 [3:0];
  assign w_data[8] = write_data_en;
  assign w_data[9] = start;
  assign w_data[7:0] = write_data;
endmodule

(* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:144" *)
(* generator = "Amaranth" *)
module \i2c.send.rbuffer (rst, r_rdy, r_data, w_en, w_port_data, level, r_en, clk);
  reg \$auto$verilog_backend.cc:2352:dump_module$4  = 0;
  wire \$1 ;
  wire \$10 ;
  wire \$11 ;
  wire \$12 ;
  wire \$13 ;
  wire [5:0] \$14 ;
  reg [3:0] \$15 ;
  reg [3:0] \$16 ;
  reg [4:0] \$17 ;
  wire [4:0] \$2 ;
  wire \$3 ;
  wire [4:0] \$4 ;
  wire \$5 ;
  wire \$6 ;
  wire \$7 ;
  wire \$8 ;
  wire [5:0] \$9 ;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\hdl\\_ir.py:283" *)
  input clk;
  wire clk;
  (* init = 4'h0 *)
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:166" *)
  wire [3:0] consume;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:95" *)
  output [4:0] level;
  reg [4:0] level = 5'h00;
  (* init = 4'h0 *)
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:165" *)
  wire [3:0] produce;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\memory.py:241" *)
  output [8:0] r_data;
  wire [8:0] r_data;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:94" *)
  input r_en;
  wire r_en;
  (* init = 5'h00 *)
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:95" *)
  wire [4:0] r_level;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\memory.py:240" *)
  reg [3:0] r_port_addr = 4'h0;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\memory.py:241" *)
  wire [8:0] r_port_data;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:93" *)
  output r_rdy;
  wire r_rdy;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\hdl\\_ir.py:283" *)
  input rst;
  wire rst;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:87" *)
  wire [8:0] w_data;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:89" *)
  input w_en;
  wire w_en;
  (* init = 5'h00 *)
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:90" *)
  wire [4:0] w_level;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\memory.py:401" *)
  reg [3:0] w_port_addr = 4'h0;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:87" *)
  input [8:0] w_port_data;
  wire [8:0] w_port_data;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\memory.py:400" *)
  wire w_port_en;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:88" *)
  wire w_rdy;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:162" *)
  reg [8:0] storage [15:0];
  initial begin
    storage[0] = 9'h000;
    storage[1] = 9'h000;
    storage[2] = 9'h000;
    storage[3] = 9'h000;
    storage[4] = 9'h000;
    storage[5] = 9'h000;
    storage[6] = 9'h000;
    storage[7] = 9'h000;
    storage[8] = 9'h000;
    storage[9] = 9'h000;
    storage[10] = 9'h000;
    storage[11] = 9'h000;
    storage[12] = 9'h000;
    storage[13] = 9'h000;
    storage[14] = 9'h000;
    storage[15] = 9'h000;
  end
  always @(posedge clk) begin
    if (w_port_en)
      storage[w_port_addr] <= w_port_data;
  end
  assign r_data = storage[r_port_addr];
  assign w_rdy = level != (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:153" *) 5'h10;
  assign r_rdy = | (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:154" *) level;
  assign w_port_en = w_en & (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:171" *) w_rdy;
  assign \$1  = w_rdy & (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:160" *) w_en;
  assign \$2  = w_port_addr + (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:116" *) 1'h1;
  assign \$3  = r_rdy & (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:159" *) r_en;
  assign \$4  = r_port_addr + (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:116" *) 1'h1;
  assign \$5  = w_rdy & (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:160" *) w_en;
  assign \$6  = r_rdy & (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:159" *) r_en;
  assign \$7  = ~ (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:183" *) \$6 ;
  assign \$8  = \$5  & (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:183" *) \$7 ;
  assign \$9  = level + (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:184" *) 1'h1;
  assign \$10  = r_rdy & (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:159" *) r_en;
  assign \$11  = w_rdy & (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:160" *) w_en;
  assign \$12  = ~ (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:185" *) \$11 ;
  assign \$13  = \$10  & (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:185" *) \$12 ;
  assign \$14  = level - (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:186" *) 1'h1;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:165" *)
  always @(posedge clk)
    w_port_addr <= \$15 ;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:166" *)
  always @(posedge clk)
    r_port_addr <= \$16 ;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:141" *)
  always @(posedge clk)
    level <= \$17 ;
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$4 ) begin end
    \$15  = w_port_addr;
    if (\$1 ) begin
      \$15  = \$2 [3:0];
    end
    if (rst) begin
      \$15  = 4'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$4 ) begin end
    \$16  = r_port_addr;
    if (\$3 ) begin
      \$16  = \$4 [3:0];
    end
    if (rst) begin
      \$16  = 4'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$4 ) begin end
    \$17  = level;
    if (\$8 ) begin
      \$17  = \$9 [4:0];
    end
    if (\$13 ) begin
      \$17  = \$14 [4:0];
    end
    if (rst) begin
      \$17  = 5'h00;
    end
  end
  assign w_level = level;
  assign r_level = level;
  assign produce = w_port_addr;
  assign w_data = w_port_data;
  assign consume = r_port_addr;
  assign r_port_data = r_data;
endmodule

(* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:144" *)
(* generator = "Amaranth" *)
module \i2c.send.wbuffer (rst, w_rdy, r_rdy, r_data, w_port_data, r_en, level, w_en, clk);
  reg \$auto$verilog_backend.cc:2352:dump_module$5  = 0;
  wire \$1 ;
  wire \$10 ;
  wire \$11 ;
  wire \$12 ;
  wire \$13 ;
  wire [5:0] \$14 ;
  reg [3:0] \$15 ;
  reg [3:0] \$16 ;
  reg [4:0] \$17 ;
  wire [4:0] \$2 ;
  wire \$3 ;
  wire [4:0] \$4 ;
  wire \$5 ;
  wire \$6 ;
  wire \$7 ;
  wire \$8 ;
  wire [5:0] \$9 ;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\hdl\\_ir.py:283" *)
  input clk;
  wire clk;
  (* init = 4'h0 *)
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:166" *)
  wire [3:0] consume;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:95" *)
  output [4:0] level;
  reg [4:0] level = 5'h00;
  (* init = 4'h0 *)
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:165" *)
  wire [3:0] produce;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\memory.py:241" *)
  output [9:0] r_data;
  wire [9:0] r_data;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:94" *)
  input r_en;
  wire r_en;
  (* init = 5'h00 *)
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:95" *)
  wire [4:0] r_level;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\memory.py:240" *)
  reg [3:0] r_port_addr = 4'h0;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\memory.py:241" *)
  wire [9:0] r_port_data;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:93" *)
  output r_rdy;
  wire r_rdy;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\hdl\\_ir.py:283" *)
  input rst;
  wire rst;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:87" *)
  wire [9:0] w_data;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:89" *)
  input w_en;
  wire w_en;
  (* init = 5'h00 *)
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:90" *)
  wire [4:0] w_level;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\memory.py:401" *)
  reg [3:0] w_port_addr = 4'h0;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:87" *)
  input [9:0] w_port_data;
  wire [9:0] w_port_data;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\memory.py:400" *)
  wire w_port_en;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:88" *)
  output w_rdy;
  wire w_rdy;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:162" *)
  reg [9:0] storage [15:0];
  initial begin
    storage[0] = 10'h000;
    storage[1] = 10'h000;
    storage[2] = 10'h000;
    storage[3] = 10'h000;
    storage[4] = 10'h000;
    storage[5] = 10'h000;
    storage[6] = 10'h000;
    storage[7] = 10'h000;
    storage[8] = 10'h000;
    storage[9] = 10'h000;
    storage[10] = 10'h000;
    storage[11] = 10'h000;
    storage[12] = 10'h000;
    storage[13] = 10'h000;
    storage[14] = 10'h000;
    storage[15] = 10'h000;
  end
  always @(posedge clk) begin
    if (w_port_en)
      storage[w_port_addr] <= w_port_data;
  end
  assign r_data = storage[r_port_addr];
  assign w_rdy = level != (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:153" *) 5'h10;
  assign r_rdy = | (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:154" *) level;
  assign w_port_en = w_en & (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:171" *) w_rdy;
  assign \$1  = w_rdy & (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:160" *) w_en;
  assign \$2  = w_port_addr + (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:116" *) 1'h1;
  assign \$3  = r_rdy & (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:159" *) r_en;
  assign \$4  = r_port_addr + (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:116" *) 1'h1;
  assign \$5  = w_rdy & (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:160" *) w_en;
  assign \$6  = r_rdy & (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:159" *) r_en;
  assign \$7  = ~ (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:183" *) \$6 ;
  assign \$8  = \$5  & (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:183" *) \$7 ;
  assign \$9  = level + (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:184" *) 1'h1;
  assign \$10  = r_rdy & (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:159" *) r_en;
  assign \$11  = w_rdy & (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:160" *) w_en;
  assign \$12  = ~ (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:185" *) \$11 ;
  assign \$13  = \$10  & (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:185" *) \$12 ;
  assign \$14  = level - (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:186" *) 1'h1;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:165" *)
  always @(posedge clk)
    w_port_addr <= \$15 ;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:166" *)
  always @(posedge clk)
    r_port_addr <= \$16 ;
  (* src = "C:\\Users\\magen\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python311\\site-packages\\amaranth\\lib\\fifo.py:141" *)
  always @(posedge clk)
    level <= \$17 ;
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$5 ) begin end
    \$15  = w_port_addr;
    if (\$1 ) begin
      \$15  = \$2 [3:0];
    end
    if (rst) begin
      \$15  = 4'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$5 ) begin end
    \$16  = r_port_addr;
    if (\$3 ) begin
      \$16  = \$4 [3:0];
    end
    if (rst) begin
      \$16  = 4'h0;
    end
  end
  always @* begin
    if (\$auto$verilog_backend.cc:2352:dump_module$5 ) begin end
    \$17  = level;
    if (\$8 ) begin
      \$17  = \$9 [4:0];
    end
    if (\$13 ) begin
      \$17  = \$14 [4:0];
    end
    if (rst) begin
      \$17  = 5'h00;
    end
  end
  assign w_level = level;
  assign r_level = level;
  assign produce = w_port_addr;
  assign w_data = w_port_data;
  assign consume = r_port_addr;
  assign r_port_data = r_data;
endmodule
